(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c821ad1a"],{"0781":function(e,t,o){e.exports=o.p+"img/logo_100.18c454b3.png"},2017:function(e,t,o){"use strict";var n=o("cafe"),r=o.n(n);r.a},"9ed6":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login-container"},[o("div",{staticClass:"login-border"},[o("div",{staticClass:"login-main"},[e._m(0),o("loginBox")],1)])])},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-logo"},[n("img",{attrs:{src:o("0781"),alt:"logo"}})])}],s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{"status-icon":"",rules:e.loginRules,model:e.loginForm,"label-width":"0",size:"default"}},[o("el-form-item",{attrs:{prop:"username"}},[o("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入账号"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin()}},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}},[o("i",{staticClass:"el-icon-user",attrs:{slot:"prefix"},slot:"prefix"})])],1),o("el-form-item",{attrs:{prop:"password"}},[o("el-input",{attrs:{size:"small",type:e.passwordType,"auto-complete":"off",placeholder:"请输入密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin()}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[o("i",{staticClass:"el-icon-view el-input__icon",attrs:{slot:"suffix"},on:{click:e.showPassword},slot:"suffix"}),o("i",{staticClass:"el-icon-key",attrs:{slot:"prefix"},slot:"prefix"})])],1),o("el-form-item",{attrs:{prop:"code"}},[o("el-row",{attrs:{span:34}},[o("el-col",{attrs:{span:14}},[o("el-input",{attrs:{size:"small",maxlength:e.code.len,"auto-complete":"off",placeholder:"请输入验证码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin()}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}},[o("i",{staticClass:"el-icon-mobile",attrs:{slot:"prefix"},slot:"prefix"})])],1),o("el-col",{attrs:{span:10}},[o("div",{staticClass:"login-code"},["text"===e.code.type?o("span",{staticClass:"login-code-img",on:{click:e.refreshCode}},[e._v(e._s(e.code.value))]):o("img",{staticClass:"login-code-img",attrs:{src:e.code.src,alt:""},on:{click:e.refreshCode}})])])],1)],1),o("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住账号")]),o("el-form-item",[o("el-button",{staticClass:"login-submit",attrs:{type:"primary",size:"small",loading:e.loading},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("登 录 ")])],1)],1)},i=[],a=(o("a4d3"),o("4de4"),o("e439"),o("dbb4"),o("b64b"),o("ac1f"),o("5319"),o("159b"),o("ade3")),l=o("ca00"),c=o("5880");function u(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function d(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?u(Object(o),!0).forEach((function(t){Object(a["a"])(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var p={name:"loginbox",data:function(){return{loginForm:{username:"admin",password:"admin888",code:"",redomStr:""},checked:!1,code:{src:"",value:"",len:4,type:"text"},loginRules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度最少为6位",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"},{min:4,max:4,message:"验证码长度为4位",trigger:"blur"}]},passwordType:"password",loading:!1}},created:function(){this.refreshCode()},methods:d({},Object(c["mapActions"])("careyshop/account",["login"]),{refreshCode:function(){this.loginForm.redomStr=l["a"].randomLenNum(this.code.len,!0),this.code.value=l["a"].randomLenNum(this.code.len),this.loginForm.code=this.code.value},showPassword:function(){""===this.passwordType?this.passwordType="password":this.passwordType=""},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){t&&(e.loading=!0,e.login({username:e.loginForm.username,password:e.loginForm.password}).then((function(){e.$store.dispatch("careyshop/account/load"),e.$router.replace(e.$route.query.redirect||"/")})).catch((function(){e.loading=!1})))}))}})},m=p,g=o("2877"),f=Object(g["a"])(m,s,i,!1,null,null,null),h=f.exports,b={name:"login",components:{loginBox:h},data:function(){return{activeName:"user"}},mounted:function(){this.$notify({title:"Demo 演示提示",dangerouslyUseHTMLString:!0,message:'<p>为避免相同账号多人登录而被踢下线，可使用账号"admin1~admin45"进行登录，密码全部为"admin888"。</p>',position:"bottom-right",duration:0})}},y=b,v=(o("2017"),Object(g["a"])(y,n,r,!1,null,null,null));t["default"]=v.exports},cafe:function(e,t,o){}}]);