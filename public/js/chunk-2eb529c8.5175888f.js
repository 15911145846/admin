(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2eb529c8"],{2202:function(e,t,n){},"3b18":function(e,t,n){"use strict";var i=n("2202"),o=n.n(i);o.a},"88bf":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{visible:e.visible,"append-to-body":!0,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){e.visible=t}}},[n("div",{staticStyle:{"margin-top":"-25px"}},[n("el-divider",[e._v("所辖区域")]),e._l(e.value,(function(t){return n("el-tag",{key:t.region_id,staticClass:"region-tag",attrs:{"disable-transitions":!0,effect:"plain",type:"info",closable:""},on:{close:function(n){return e.handleClose(t)}}},[e._v(" "+e._s(t.name)+" ")])})),e.value.length<=0?n("div",{staticClass:"not-region"},[n("span",[e._v("暂无区域")])]):e._e(),n("el-divider",[e._v("区域选择")]),e.visible?n("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],staticClass:"tree-scroll",attrs:{"node-key":"region_id",props:e.treeProps,load:e.loadNode,lazy:!0},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,o=t.data;return n("span",{staticClass:"custom-tree-node action"},[n("span",[e._v(e._s(i.label))]),n("span",{staticClass:"active"},[n("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-plus"},on:{click:function(t){return t.stopPropagation(),e.addRegion(o)}}},[e._v("加入到所辖区域")])],1)])}}],null,!1,2355408561)}):e._e()],2),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.visible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary",loading:e.loading,size:"small"},on:{click:e.update}},[e._v("确定")])],1)])},o=[],a=(n("7db0"),n("c975"),n("d81d"),n("a434"),n("b0c0"),n("d3b7"),n("f86b")),r=n("7633"),l={props:{value:{type:Array,required:!1,default:function(){return[]}},confirm:{type:Function}},data:function(){return{areaId:0,visible:!1,loading:!1,regionId:1,treeLoading:!1,treeProps:{label:"region_name",children:"children"}}},methods:{handleRegionDlg:function(e){this.areaId=e,this.loading=!1,this.visible=!0},handleClose:function(e){this.value.splice(this.value.indexOf(e),1)},loadNode:function(e,t){this.treeLoading=0===e.level,this.getRegionData(e.level?e.key:this.regionId,t)},getRegionData:function(e,t){var n=this;Object(a["c"])({region_id:e}).then((function(e){t(e.data||[])})).finally((function(){n.treeLoading=!1}))},addRegion:function(e){var t=this.value.find((function(t){return t.region_id===e.region_id}));t?this.$message.warning("".concat(t.name," 在所辖区域中已存在")):this.value.push({name:e.region_name,region_id:e.region_id})},update:function(){var e=this;this.loading=!0,Object(r["d"])({delivery_area_id:this.areaId,region:this.value.map((function(e){return e.region_id}))}).then((function(t){e.$emit("confirm",t.data.region),e.visible=!1})).finally((function(){e.loading=!1}))}}},s=l,d=(n("3b18"),n("2877")),u=Object(d["a"])(s,i,o,!1,null,"b3514c76",null);t["default"]=u.exports},f86b:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return d}));var i=n("b775");function o(e){return Object(i["a"])({url:"/v1/region",method:"post",params:{method:"add.region.item"},data:e})}function a(e){return Object(i["a"])({url:"/v1/region",method:"post",params:{method:"set.region.item"},data:e})}function r(e){return Object(i["a"])({url:"/v1/region",method:"post",params:{method:"del.region.list"},data:{region_id:e}})}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(i["a"])({url:"/v1/region",method:"post",params:{method:"get.region.list"},data:e})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(i["a"])({url:"/v1/region",method:"post",params:{method:"get.region.son.list"},data:e})}function d(e){return Object(i["a"])({url:"/v1/region",method:"post",params:{method:"set.region.index"},data:{region_id:e}})}}}]);